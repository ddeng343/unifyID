<!DOCTYPE html>
<html>
<head>
  <title>Fun with Random.org</title>
</head>
<body>
  <canvas id="img" height=128 width=128></canvas>

  <script type="text/javascript">
    // fetch('https://www.random.org/integers/?num=1&min=1&max=3&col=1&base=10&format=plain&rnd=new')
    //   .then(res => res.text())
    //   .then(text => text.split('\n'))
    //   .then(nums => {

        const canvas = document.querySelector('#img');
        const context = canvas.getContext('2d');

        const nums = [];

        for (let i = 0; i < canvas.height * canvas.width; i++) {
          nums[i] = i;
        }

        const clampedArr = new Uint8ClampedArray(canvas.height * canvas.width * 4);

        for(let height = 0; height < canvas.height; height++) {
          for(let width = 0; width < canvas.width; width++) {
            const index = (height * canvas.width + width) * 4;
            for (let i = 0; i < 4; i++) {
              clampedArr[index + i] = Math.floor(nums[height*width]/(i+1)) % 256;
            }
          }
        }

        const imgData = context.createImageData(canvas.height, canvas.width);
        imgData.data.set(clampedArr);
        context.putImageData(imgData, 0, 0);
      // })

  </script>
</body>
</html>